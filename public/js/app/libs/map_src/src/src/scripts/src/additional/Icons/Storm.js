/**
 * Created with JetBrains PhpStorm.
 * Company: ОСП Брянск
 */

(function (G) {
    "use strict";
    G.Additional.Icon.storm = function (color, icoWidth, canvas, color2) {
        var ctx;
        canvas = canvas || document.createElement('canvas');
        canvas.width = 18;
        canvas.height = 18;
        Gis.Additional.Icon.fixPositionCanvas(icoWidth, 18, canvas);
        ctx = canvas.getContext('2d');
        ctx.save();
        ctx.translate(0, 0);
        ctx.beginPath();
        ctx.moveTo(0, 0);
        ctx.lineTo(18, 0);
        ctx.lineTo(18, 18);
        ctx.lineTo(0, 18);
        ctx.closePath();
        ctx.clip();
        ctx.translate(0, 0);
        ctx.translate(0, 0);
        ctx.scale(1, 1);
        ctx.translate(0, 0);
        ctx.strokeStyle = 'rgba(0, 0, 0, 0)';
        ctx.lineCap = 'butt';
        ctx.lineJoin = 'miter';
        ctx.miterLimit = 4;
        ctx.save();
        ctx.save();
        ctx.fillStyle = color;
        ctx.beginPath();
        ctx.moveTo(2, 17.5);
        ctx.bezierCurveTo(1.173, 17.5, 0.5, 16.826999999999998, 0.5, 16);
        ctx.lineTo(0.5, 2);
        ctx.bezierCurveTo(0.5, 1.173, 1.173, 0.5, 2, 0.5);
        ctx.lineTo(16, 0.5);
        ctx.bezierCurveTo(16.826999999999998, 0.5, 17.5, 1.173, 17.5, 2);
        ctx.lineTo(17.5, 16);
        ctx.bezierCurveTo(17.5, 16.826999999999998, 16.826999999999998, 17.5, 16, 17.5);
        ctx.lineTo(2, 17.5);
        ctx.closePath();
        ctx.fill();
        ctx.stroke();
        ctx.restore();
        ctx.save();
        color2 = color2 || "#ffffff";
        ctx.fillStyle = color2;
        ctx.beginPath();
        ctx.moveTo(16, 1);
        ctx.bezierCurveTo(16.55, 1, 17, 1.45, 17, 2);
        ctx.lineTo(17, 16);
        ctx.bezierCurveTo(17, 16.55, 16.55, 17, 16, 17);
        ctx.lineTo(2, 17);
        ctx.bezierCurveTo(1.45, 17, 1, 16.55, 1, 16);
        ctx.lineTo(1, 2);
        ctx.bezierCurveTo(1, 1.45, 1.45, 1, 2, 1);
        ctx.lineTo(16, 1);
        ctx.moveTo(16, 0);
        ctx.lineTo(2, 0);
        ctx.bezierCurveTo(0.896, 0, 0, 0.896, 0, 2);
        ctx.lineTo(0, 16);
        ctx.bezierCurveTo(0, 17.104, 0.896, 18, 2, 18);
        ctx.lineTo(16, 18);
        ctx.bezierCurveTo(17.104, 18, 18, 17.104, 18, 16);
        ctx.lineTo(18, 2);
        ctx.bezierCurveTo(18, 0.896, 17.104, 0, 16, 0);
        ctx.lineTo(16, 0);
        ctx.closePath();
        ctx.fill();
        ctx.stroke();
        ctx.restore();
        ctx.restore();
        ctx.save();
        ctx.fillStyle = color2;
        ctx.beginPath();
        ctx.moveTo(8.028, 5.326);
        ctx.lineTo(7.028, 10.326);
        ctx.lineTo(9.028, 10.326);
        ctx.lineTo(8.028, 14.326);
        ctx.lineTo(12.028, 9.326);
        ctx.lineTo(10.028, 8.326);
        ctx.lineTo(11.028, 5.326);
        ctx.lineTo(8.028, 5.326);
        ctx.closePath();
        ctx.fill();
        ctx.stroke();
        ctx.restore();
        ctx.save();
        ctx.fillStyle = color2;
        ctx.beginPath();
        ctx.moveTo(13.185, 3.374);
        ctx.bezierCurveTo(11.888, 3.374, 11.388, 3.577, 10.664000000000001, 4.178);
        ctx.bezierCurveTo(10.302000000000001, 3.6639999999999997, 10.05, 3.356, 9.372000000000002, 3.356);
        ctx.bezierCurveTo(8.372000000000002, 3.356, 8.242, 4.252, 8.030000000000001, 4.327999999999999);
        ctx.bezierCurveTo(8.093000000000002, 3.3759999999999994, 7.546000000000001, 2.3279999999999994, 6.030000000000001, 2.3279999999999994);
        ctx.bezierCurveTo(4.373000000000001, 2.3279999999999994, 3.030000000000001, 3.6709999999999994, 3.030000000000001, 5.327999999999999);
        ctx.bezierCurveTo(3.030000000000001, 7.968999999999999, 4.070000000000001, 9.056999999999999, 5.449000000000002, 9.28);
        ctx.lineTo(7.030000000000001, 5.327999999999999);
        ctx.lineTo(12.030000000000001, 5.327999999999999);
        ctx.lineTo(12.030000000000001, 8.328);
        ctx.lineTo(12.886000000000001, 9.184);
        ctx.bezierCurveTo(14.001000000000001, 8.844, 14.972000000000001, 8.58, 14.972000000000001, 6.587999999999999);
        ctx.bezierCurveTo(14.972, 4.605, 14.564, 3.374, 13.185, 3.374);
        ctx.closePath();
        ctx.fill();
        ctx.stroke();
        ctx.restore();
        ctx.restore();
        return canvas;
    };
}(Gis));